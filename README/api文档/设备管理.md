### 1. 文档说明

在阅读本文档之前，请先阅读《基础约定》。

### 2.接口列表

#### 2.1 设备管理

##### 2.1.1 显示设备列表

 **接口地址**: GET /device

 **接口说明**: 分页查询显示设备列表。

 **请求参数**: 

| 参数名                 | 类型     | 是否必填 | 说明                  |
| ---------------------- | -------- | -------- | --------------------- |
| page                   | int      | 否       | 当前页码.默认为1      |
| size                   | int      | 否       | 每页显示条数.默认为10 |
| name                   | string   | 否       | 设备名称              |
| type                   | string   | 否       | 设备类型              |
| manufacturer           | string   | 否       | 设备厂商              |
| model                  | string   | 否       | 设备型号              |
| sn                     | string   | 否       | 序列号                |
| location               | string   | 否       | 设备位置              |
| uniqueDeviceIdentifier | string   | 否       | 设备唯一标识符        |
| online                 | bool     |          | 设备是否在线          |
| state                  | string   |          | 设备状态              |
| status                 | string   |          | 记录状态              |
| information            | string   |          | 设备信息              |
| firmwareVersion        | string   |          | 附件版本号            |
| lastHeartbeatTimeFrom  | datetime |          | 最后一次心跳同步时间  |
| lastHeartbeatTimeTo    | datetime |          | 最后一次心跳同步时间  |
| createTimeFrom         | date     |          | 记录创建时间          |
| createTimeTo           | date     |          | 记录创建时间          |

**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |
| └ size         | int      | 每页显示条数                   |
| └ current      | int      | 当前页码                       |
| └ total        | int      | 记录总数                       |
| └ records      | object[] | 设备列表             |
| └└ id | long |  设备主键标识                                               |
| └└ name | string   |  设备名称                            |
| └└ description | string | 描述信息 |
| └└ manufacturer | string   |  厂商        |
| └└ model | string   |  型号                         |
| └└ sn | object   |  序列号 |
| └└ location | string | 位置 |
| └└ unique_device_identifier | string   | 设备唯一标识符 |
| └└ secret | string |  设备密钥        |
| └└ online | bool   | 设备是否在线 |
| └└ state | string | 设备状态 |
| └└ status | string   | 设备记录状态 |
| └└ information | string | 设备信息 |
| └└ firmware_version | string |  固件版本号  |
| └└ lastHeartbeatTime | string | 最后一次心跳同步时间 |
| └└ createTime | string | 记录创建时间 |
| └└ lastUpdateTime | string | 记录最后修改时间 |

 **返回结果示例**:

  ```json
{
  "code": 0,
  "msg": null,
  "data": {
      "current":1,
      "size":10,
      "total":1,
      "records":[
        {
          "id": 1,
          "name": "闸机01",
          "description": null,
          "manufacturer": "华捷艾米",
          "model": "初代",
          "sn": "A0001",
          "location": "东门",
          "unique_device_identifier": "rworuowjqwueoqweqw",
          "secret": "ow9243ssd99x@@12",
          "online": true,
          "state": "normal",
          "status": "normal",
          "information": null,
          "firmware_version": null,
          "lastHeartbeatTime": "2021-01-20 16:31:25",
          "createTime": "2021-01-20 15:30:36",
          "lastUpdateTime": null
        }
      ]
  }
}
  ```



##### 2.1.2 新增设备

**接口地址**: POST /device

**接口说明**: 输入设备类型、设备厂家、设备型号、设备序列号、设备位置、设备名称、设备密码及描述信息等录入一台新的设备。

 **请求参数**:

| 参数名       | 类型   | 是否必填 | 说明               |
| ------------ | ------ | -------- | ------------------ |
| name         | string | 是       | 名称               |
| type         | string | 是       | 设备类型.闸机/门禁 |
| description  | string | 否       | 描述信息           |
| manufacturer | string | 是       | 厂商               |
| model        | string | 是       | 型号               |
| sn           | object | 是       | 序列号             |
| location     | string | 是       | 位置               |


 **返回参数**:

| 参数名 | 类型   | 说明         |
| ------ | ------ | ------------ |
| code   | int    |              |
| msg    | string |              |
| data   | long   | 设备主键标识 |

 **返回结果示例**:

  ```json
 {
      "code":0,
      "msg":null,
      "data":1
  }
  ```





##### 2.1.3 查看设备详情

 **接口地址**: GET /device/{id}

 **接口说明**: 查看设备详情。

 **请求参数**:

**返回参数**:

| 参数名      | 类型    | 说明                                                       |
| ----------- | ------- | ---------------------------------------------------------- |
| id | long |  设备主键标识                                               |
| name | string   |  设备名称                            |
| description | string | 描述信息 |
| type | string | 类型 |
| manufacturer | string   |  厂商        |
| model | string   |  型号                         |
| sn  | object   |  序列号 |
| location | string | 位置 |
| unique_device_identifier | string   | 设备唯一标识符 |
| secret | string |  设备密钥        |
| online | bool   | 设备是否在线 |
| state | string | 设备状态 |
| status | string   | 记录状态 |
| information | string | 设备信息 |
| firmware_version | string |  固件版本号  |
| lastHeartbeatTime | string | 最后一次心跳同步时间 |
| createTime | string | 记录创建时间 |
| lastUpdateTime | string | 记录最后修改时间 |

 **返回结果示例**:

  ```json
{
      "code":0,
      "msg":null,
      "data": {
          "id": 1,
          "name": "闸机01",
          "type": "brake",
          "description": null,
          "manufacturer": "华捷艾米",
          "model": "初代",
          "sn": "A0001",
          "location": "东门",
          "unique_device_identifier": "rworuowjqwueoqweqw",
          "secret": "ow9243ssd99x@@12",
          "online": true,
          "state": "normal",
          "status": "normal",
          "information": null,
          "firmware_version": null,
          "lastHeartbeatTime": "2021-01-20 16:31:25",
          "createTime": "2021-01-20 15:30:36",
          "lastUpdateTime": null
    }
  }
  ```





##### 2.1.4 修改设备信息

**接口地址**: PUT /device/{id}

**接口说明**: 修改设备信息。

 **请求参数**:

| 参数名       | 类型   | 是否必填 | 说明     |
| ------------ | ------ | -------- | -------- |
| name         | string | 是       | 名称     |
| description  | string | 是       | 描述信息 |
| manufacturer | string | 是       | 厂商     |
| model        | string | 是       | 型号     |
| sn           | object | 是       | 序列号   |
| location     | string | 是       | 位置     |
| secret       | string | 是       | 设备密钥 |


 **返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |

 **返回结果示例**:

  ```json
{
      "code": 0,
      "msg": null,
      "data": null
}
  ```



##### 2.1.5 删除设备

**接口地址**: DELETE /device/{id}

**接口说明**: 将设备从系统中移除,移除后记录状态会变为已移除,同时物理设备将不能再接入系统。

**请求参数**:

**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |

 **返回结果示例**:

  ```json
 {
      "code": 0,
      "msg": null
 }
  ```

 

##### 2.1.6 设备基础操作

**接口地址**: POST /device/instruct/{type}

**接口说明**: 对设备执行常开、常开、开门、关门、关机及重启操作。

**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |

 **返回结果示例**:

  ```json
 {
      "code":0,
      "msg":null,
      "data":null
 }
  ```



##### 2.1.7 添加设备通行人员

**接口地址**: POST /device/passing

**接口说明**: 为指定的设备增加通行人员信息。

**请求参数**:

| 参数名      | 类型   | 是否必填 | 说明         |
| ----------- | ------ | -------- | ------------ |
| deviceIds   | long[] | 是       | 设备主键标识 |
| employeeIds | long[] | 否       | 员工主键标识 |
| visitorIds  | long[] | 否       | 访客主键标识 |


 **返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |

 **返回结果示例**:

  ```json
{
      "code": 0,
      "msg": null,
      "data": null
}
  ```



##### 2.1.8 查看设备通行人员

**接口地址**: GET /device-passing

**接口说明**: 查看指定设备上的通行人员列表。

**请求参数**:

| 参数名         | 类型   | 是否必填 | 说明                 |
| -------------- | ------ | -------- | -------------------- |
| page           | int    | 否       | 当前页码             |
| size           | int    | 否       | 每页显示条数         |
| deviceIds      | long[] | 否       | 设备ID列表           |
| personType     | string | 否       | 设备通行人员主键标识 |
| name           | string | 否       | 姓名                 |
| idNum          | string | 否       | 身份证号             |
| createTimeFrom | string | 否       | 添加日期-从          |
| CreateTimeTo   | string | 否       | 添加日期-到          |


 **返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |
| └ size         | int      | 每页显示条数                   |
| └ current      | int      | 当前页码                       |
| └ total        | int      | 记录总数                       |
| └ records      | object[] | 数据列表          |
| └└ id | number | 设备通行人员主键标识 |
| └└ personType | string | 人员类型 |
| └└ personId | int | 人员主键标识 |
| └└ name | string | 姓名 |
| └└ cardNum | string | 门禁卡号 |
| └└ icCardNum | string | ic卡号 |
| └└ idNum | string | 身份证号 |
| └└ userId | int | 创建人 |
| └└ createTime | string | 记录创建时间 |
| └└ lastUpdateTime | string | 记录最后更新时间 |

 **返回结果示例**:

  ```json
{
	"code": 0,
	"msg": null,
	"data": {
		"size": 10,
		"current": 1,
		"total": 1,
		"records": [{
			"id": 1,
			"personType": "employee",
			"personId": 1,
			"name": "张三",
			"cardNum": "0001",
			"icCardNum": "0001",
			"idNum": "130123123456781234",
			"userId": 1,
			"createTime": "2020-01-21 16:26:00",
			"lastUpdateTime": null
		}]
	}
}
  ```



##### 2.1.9 移除设备通行人员

**接口地址**: DELETE /device-passing

**接口说明**: 移除设备通行人员

**请求参数**:

| 参数名 | 类型   | 是否必填 | 说明                 |
| ------ | ------ | -------- | -------------------- |
| ids    | long[] | 是       | 设备通行人员主键标识 |

**返回参数**:

| 参数名            | 类型     | 说明                 |
| ----------------- | -------- | -------------------- |
| code              | int      |                      |
| msg               | string   |                      |
| data              | object   |                      |

 **返回结果示例**:

  ```json
{
	"code": 0,
	"msg": null,
	"data": null
}
  ```



##### 2.1.10 添加禁止通行人员

**接口地址**: POST /blocklist

**接口说明**: 增加禁止通行人员信息。

**请求参数**:

| 参数名      | 类型   | 是否必填 | 说明                                                |
| ----------- | ------ | -------- | --------------------------------------------------- |
| name | string | 是       | 姓名 |
| reason | string | 是      | 被添加到禁止通行人员名单的原因 |
| image | file | 是 | 禁止通行人员头像 |

**返回参数**:

| 参数名    | 类型   | 说明              |
| --------- | ------ | ----------------- |
| code      | int    |                   |
| msg       | string |                   |

 **返回结果示例**:

  ```json
{
      "code": 0,
      "msg": null,
      "data": null
}
  ```



##### 2.1.11 查看禁止通行人员列表

**接口地址**: GET /blocklist

**接口说明**: 增加禁止通行人员信息。

**请求参数**:

| 参数名         | 类型   | 是否必填 | 说明                  |
| -------------- | ------ | -------- | --------------------- |
| page           | int    | 否       | 当前页码,默认为1      |
| size           | int    | 否       | 每页显示条数,默认为10 |
| name           | string | 否       | 姓名                  |
| reason         | string | 否       | 禁止通行的原因        |
| createTimeFrom | string | 否       | 添加日期-从           |
| createTimeTo   | string | 否       | 添加日期-到           |

**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |
| └ size         | int      | 每页显示条数                   |
| └ current      | int      | 当前页码                       |
| └ total        | int      | 记录总数                       |
| └ records      | object[] | 数据列表           |
| └└ id | number | 主键标识 |
| └└ name | string | 姓名 |
| └└ reason | string | 禁止通行的原因 |
| └└ userId | int | 创建人 |
| └└ createTime | string | 记录创建时间 |
| └└ lastUpdateTime | string | 记录最后更新时间 |

 **返回结果示例**:

  ```json
{
	"code": 0,
	"msg": null,
	"data": {
		"size": 10,
		"current": 1,
		"total": 1,
		"records": [{
			"id": 1,
			"name": "张三",
			"reason": "通缉犯",
			"userId": 1,
			"createTime": "2020-01-21 16:26:00",
			"lastUpdateTime": null
		}]
	}
}
  ```



##### 2.1.12 移除禁止通行人员

**接口地址**: DELETE /blocklist

**接口说明**: 为指定的设备增加通行规则。

**请求参数**:

| 参数名 | 类型   | 是否必填 | 说明                 |
| ------ | ------ | -------- | -------------------- |
| ids    | long[] | 是       | 禁止通行人员主键标识 |

**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |

 **返回结果示例**:

  ```json
{
      "code": 0,
      "msg": null,
      "data": null
}
  ```







##### 2.1.13 添加设备通行规则

**接口地址**: POST /device/rule

**接口说明**: 为指定的设备增加通行规则。

**请求参数**:

| 参数名            | 类型     | 是否必填 | 说明                                                         |
| ----------------- | -------- | -------- | ------------------------------------------------------------ |
| deviceIds         | long[]   | 是       | 设备主键标识                                                 |
| name              | string   | 是       | 规则名称                                                     |
| description       | string   | 否       | 描述信息                                                     |
| verificationModes | string[] | 是       | 验证方式.一条通行规则可以有多个验证方式,每个验证方式由一个或多个具体的物理验证方案以"并且"的关系构成.多个验证方式之间是或者的关系,也就是说只要任意一个验证方式通过即可. |
| ruleType          | string   | 是       | 规则类型.人员类别/指定人员                                   |
| personType        | string   | 否       | 当规则类型为人员类别时,该字段需要设置为具体的人员类别        |
| personIds         | long[]   | 否       | 当规则类型为指定人员时,该字段需要设置为具体的人员ID列表      |
| visitorIds        | long[]   | 否       | 当规则类型为指定人员时,该字段需要设置为具体的访客ID列表      |
| week              | string   | 否       | 星期限定.0-6分别代表星期日-星期六.多个值以逗号分隔,为空代表不做任何限制 |
| startDate         | string   | 否       | 日期限定-开始.为空代表不做任何限制                           |
| endDate           | string   | 否       | 日期限定-结束.为空代表不做任何限制                           |
| startTime         | string   | 否       | 通行开始时间                                                 |
| endTime           | string   | 否       | 通行结束时间                                                 |

**设备通行规则示例:**

| ruleType   | personType | personIds | visitorIds | week      | startDate  | endDate    | startTime | endTime | 规则解释                                  |
| ---------- | ---------- | --------- | ---------- | --------- | ---------- | ---------- | --------- | ------- | ----------------------------------------- |
| personType | employee   |           |            | 1,2,3,4,5 |            |            | 08:00     | 20:00   | 员工在周一到周五的8:00-20:00可以通行      |
| personType | employee   |           |            |           | 2021-01-23 | 2021-01-23 | 08:00     | 20:00   | 员工在2021-01-23的8:00-20:00可以通行      |
| personId   |            |           | zhangzong  |           | 2021-01-25 | 2021-01-25 | 10:00     | 12:00   | 访客张总在2021-01-25的10:00-12:00可以通行 |
| personId   |            | xiaowang  |            |           | 2021-01-24 | 2021-01-24 | 00:00     | 24:00   | 员工小王在2021-01-24的00:00-24:00可以通行 |



**返回参数**:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| code   | int    |      |
| msg    | string |      |
| data   | object |      |

 **返回结果示例**:

  ```json
{
      "code": 0,
      "msg": null,
      "data": null
}
  ```



##### 2.1.14 查看设备通行规则

**接口地址**: GET /device/{id}/rule

**接口说明**: 查看指定设备上的通行规则列表。

**请求参数**:

| 参数名   | 类型   | 是否必填 | 说明         |
| -------- | ------ | -------- | ------------ |
| page     | int    | 否       | 当前页码     |
| size     | int    | 否       | 每页显示条数 |
| ruleType | string | 否       | 规则类型     |


 **返回参数**:

| 参数名            | 类型     | 说明                              |
| ----------------- | -------- | --------------------------------- |
| code              | int      |                                   |
| msg               | string   |                                   |
| data              | object   |                                   |
| └ size            | int      | 每页显示条数                      |
| └ current         | int      | 当前页码                          |
| └ total           | int      | 记录总数                          |
| └ records         | object[] | 数据列表                          |
| └└ id             | number   | 设备通行规则主键标识              |
| └└ ruleType       | string   | 规则类型                          |
| └└ value          | int      | 根据规则类型的不同存放不同的值    |
| └└ week           | string   | 星期限定,0-6分别代表星期日-星期六 |
| └└ startDate      | string   | 日期限定-开始                     |
| └└ endDate        | string   | 日期限定-结束                     |
| └└ startTime      | string   | 通行开始时间                      |
| └└ endTime        | string   | 通行结束时间                      |
| └└ userId         | int      | 创建人                            |
| └└ createTime     | string   | 记录创建时间                      |
| └└ lastUpdateTime | string   | 记录最后更新时间                  |

 **返回结果示例**:

  ```json
{
	"code": 0,
	"msg": null,
	"data": {
		"size": 10,
		"current": 1,
		"total": 1,
		"records": [{
			"id": 1,
			"name": "员工通行规则",
			"description": "园区普通员工通行规则",
			"ruleType": "personType",
			"value": "employee",
			"week": "1,2,3,4,5",
			"startDate": null,
			"endDate": null,
			"startTime": "06:00:00",
			"endTime": "23:00:00",
			"userId": 1,
			"createTime": "2020-01-21 16:26:00",
			"lastUpdateTime": null
		}]
	}
}
  ```



##### 2.1.15 移除设备通行规则

**接口地址**: DELETE /device-rule

**接口说明**: 移除指定的通行规则。

**请求参数**:

| 参数名 | 类型   | 是否必填 | 说明             |
| ------ | ------ | -------- | ---------------- |
| ids    | long[] | 否       | 通行规则主键标识 |


 **返回参数**:

| 参数名            | 类型     | 说明                              |
| ----------------- | -------- | --------------------------------- |
| code              | int      |                                   |
| msg               | string   |                                   |
| data              | object   |                                   |

 **返回结果示例**:

  ```json
{
	"code": 0,
	"msg": null,
	"data": null
}
  ```



#### 2.2 监控管理

##### 2.2.1 查询异常记录

**接口地址**: GET /exception

**接口说明**: 分页查询显示系统中的异常记录列表。

 **请求参数**: 

| 参数名         | 类型   | 是否必填 | 说明                  |
| -------------- | ------ | -------- | --------------------- |
| page           | int    | 否       | 当前页码.默认为1      |
| size           | int    | 否       | 每页显示条数.默认为10 |
| deviceId       | long   | 否       | 设备主键标识          |
| source         | string | 否       | 异常来源              |
| category       | string | 否       | 异常种类              |
| personType     | string | 否       | 人员类型              |
| personId       | string | 否       | 人员主键标识          |
| createTimeFrom | date   | 否       | 记录创建日期-从       |
| createTimeTo   | date   | 否       | 记录创建日期-到       |

**返回参数**:

| 参数名                    | 类型     | 说明                                                 |
| ------------------------- | -------- | ---------------------------------------------------- |
| code                      | int      |                                                      |
| msg                       | string   |                                                      |
| data                      | object   |                                                      |
| └ size                    | int      | 每页显示条数                                         |
| └ current                 | int      | 当前页码                                             |
| └ total                   | int      | 记录总数                                             |
| └ records                 | object[] | 数据列表                                             |
| └└ id                     | long     | 记录主键标识                                         |
| └└ deviceId               | long     | 设备主键标识                                         |
| └└ uniqueDeviceIdentifier | string   | 设备唯一标识符                                       |
| └└ source                 | string   | 异常来源.设备/人员                                   |
| └└ category               | string   | 异常种类.例如设备升级失败,人员体温过高,黑名单等等    |
| └└ additionalInformation  | string   | 额外信息.例如设备升级时的固件版本,人员的具体体温等等 |
| └└ accessRecordId         | long     | 关联的通行记录标识                                   |
| └└ personType             | string   | 人员类型                                             |
| └└ personId               | long     | 人员主键标识                                         |
| └└ createTime             | string   | 记录创建时间                                         |
| └└ lastUpdateTime         | string   | 记录最后修改时间                                     |

 **返回结果示例**:

  ```json
{
  "code": 0,
  "msg": null,
  "data": {
    "size": 10,
    "current": 1,
    "total": 1,
    "records": [
      {
        "id": 1,
        "deviceId": 123,
        "uniqueDeviceIdentifier": "XA-329-001",
        "source": "person",
        "category": "high_body_temperature",
        "additionalInformation": "38.5",
        "accessRecordId": 1002,
        "personType": "employee",
        "personId": 31,
        "createTime": "2020-01-21 16:26:00",
        "lastUpdateTime": null
      }
    ]
  }
}
  ```



##### 2.2.2 异常监控

**接口地址**: GET /exception/watch

**接口说明**: 监控系统中新产生的异常记录。监控客户端可能是大屏、手机等，采用以固定的时间间隔向后台轮询的方式来实现及时显示新的异常记录。当终端一次接入异常监控时，lastId参数为空，后台会返回目前系统中最新的一条异常记录的id；下一次轮询时，lastId参数为上一次后台返回的最新的一条异常记录的id。同时可以通过设备ID、异常来源及人员类型等参数来缩小监控的范围。

 **请求参数**: 

| 参数名 | 类型 | 是否必填 | 说明                         |
| ------ | ---- | -------- | ---------------------------- |
| lastId | int  | 否       | 最后一次监控到的异常记录的id |
| deviceId       | long   | 否       | 设备主键标识          |
| source         | string | 否       | 异常来源              |
| category       | string | 否       | 异常种类              |
| personType     | string | 否       | 人员类型              |

**返回参数**:

| 参数名                    | 类型     | 说明                                                 |
| ------------------------- | -------- | ---------------------------------------------------- |
| code                      | int      |                                                      |
| msg                       | string   |                                                      |
| data                      | object   |                                                      |
| └ lastId                  | int      | 最新的一条异常记录的id                               |
| └ records                 | object[] | 数据列表                                             |
| └└ id                     | long     | 记录主键标识                                         |
| └└ deviceId               | long     | 设备主键标识                                         |
| └└ uniqueDeviceIdentifier | string   | 设备唯一标识符                                       |
| └└ source                 | string   | 异常来源.设备/人员                                   |
| └└ category               | string   | 异常种类.例如设备升级失败,人员体温过高,黑名单等等    |
| └└ additionalInformation  | string   | 额外信息.例如设备升级时的固件版本,人员的具体体温等等 |
| └└ accessRecordId         | long     | 关联的通行记录标识                                   |
| └└ personType             | string   | 人员类型                                             |
| └└ personId               | long     | 人员主键标识                                         |
| └└ createTime             | string   | 记录创建时间                                         |
| └└ lastUpdateTime         | string   | 记录最后修改时间                                     |

 **返回结果示例**:

  ```json
{
  "code": 0,
  "msg": null,
  "data": {
    "lastId": 2,
    "records": [
      {
        "id": 2,
        "deviceId": 123,
        "uniqueDeviceIdentifier": "XA-329-001",
        "source": "person",
        "category": "high_body_temperature",
        "additionalInformation": "38.5",
        "accessRecordId": 1002,
        "personType": "employee",
        "personId": 31,
        "createTime": "2020-01-21 16:26:00",
        "lastUpdateTime": null
      }
    ]
  }
}
  ```







### 3. 附录

#### 3.1 枚举项

​	设备操作类型

| 编码             | 说明             |
| ---------------- | ---------------- |
| open             | 开门             |
| close            | 关门             |
| always_open      | 常开             |
| always_close     | 常关             |
| restart          | 重启             |
| shutdown         | 关机             |
| issue_person     | 下发通行人员     |
| remove_person    | 移除通行人员     |
| issue_rule       | 下发通行规则     |
| delete_rule      | 删除通行规则     |
| issue_blocklist  | 下发禁止通行人员 |
| delete_blocklist | 删除禁止通行人员 |

​	设备操作结果

| 编码    | 说明 |
| ------- | ---- |
| success | 成功 |
| failure | 失败 |
| timeout | 超时 |

​	设备状态

| 编码         | 说明     |
| ------------ | -------- |
| normal       | 正常     |
| always_open  | 常开     |
| always_close | 常关     |
| out_of_order | 故障     |
| out_of_sync  | 失去同步 |

​	设备记录状态

| 编码    | 说明   |
| ------- | ------ |
| normal  | 正常   |
| removed | 已移除 |

​	设备类型

| 编码     | 说明 |
| -------- | ---- |
| brake    | 闸机 |
| entrance | 门禁 |

​	异常种类

| 编码                  | 说明         |
| --------------------- | ------------ |
| blocklist             | 禁止通行名单 |
| high_body_temperature | 体温过高     |
| device_upgrade_failed | 设备升级失败 |
| device_out_of_order   | 设备故障     |

​	异常来源

| 编码   | 说明 |
| ------ | ---- |
| device | 设备 |
| person | 人员 |

​	规则类型

| 编码        | 说明           |
| ----------- | -------------- |
| person_type | 指定的人员类型 |
| person_id   | 指定的人员     |

​	验证方式

| 编码          | 说明     |
| ------------- | -------- |
| face          | 刷脸     |
| identity_card | 刷身份证 |
| wg_card       | 门禁卡   |
| ic_card       | IC卡     |
| fingerprint   | 指纹     |
| qr_code       | 二维码   |